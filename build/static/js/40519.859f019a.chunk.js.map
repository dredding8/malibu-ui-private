{"version":3,"file":"static/js/40519.859f019a.chunk.js","mappings":"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","sources":["components/ReallocationWorkspaceAccessible.tsx","components/CollectionOpportunitiesAccessible.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback, useRef, useMemo } from 'react';\nimport {\n  Button,\n  Card,\n  Classes,\n  Dialog,\n  Divider,\n  FormGroup,\n  Icon,\n  Intent,\n  NonIdealState,\n  ProgressBar,\n  Tag,\n  Tooltip,\n  ButtonGroup,\n  Callout,\n  NumericInput,\n  TextArea,\n  HTMLSelect,\n  Position,\n  H3,\n  H4,\n  Switch,\n  AnchorButton,\n  InputGroup\n} from '@blueprintjs/core';\nimport { IconNames } from '@blueprintjs/icons';\nimport { CollectionOpportunity, Site, MatchStatus, Priority } from '../types/collectionOpportunities';\nimport './ReallocationWorkspaceAccessible.css';\n\ninterface SiteAllocation {\n  siteId: string;\n  siteName: string;\n  siteCode: string;\n  passes: number;\n  capacity: number;\n  allocated: number;\n  availableCapacity: number;\n  quality: 'excellent' | 'good' | 'fair' | 'poor';\n  elevation: number;\n  duration: number;\n  capacityUsage: number;\n  timeDistribution?: string;\n  overrideReason?: string;\n}\n\ninterface AvailablePass {\n  id: string;\n  siteId: string;\n  siteName: string;\n  siteCode: string;\n  quality: 'excellent' | 'good' | 'fair' | 'poor';\n  passCount: number;\n  totalDuration: number;\n  peakElevation: number;\n  durationThreshold: number;\n  capacityUsage: number;\n  capacityTotal: number;\n  conflicts?: string[];\n  isRecommended?: boolean;\n  matchScore?: number;\n}\n\ninterface ReallocationWorkspaceAccessibleProps {\n  opportunity: CollectionOpportunity;\n  availableSites: Site[];\n  isOpen: boolean;\n  onClose: () => void;\n  onSave: (changes: any[]) => Promise<void>;\n}\n\n// Quick action buttons for common tasks\nconst QuickActions: React.FC<{\n  onAutoAllocate: () => void;\n  onOptimizeCapacity: () => void;\n  onResolveConflicts: () => void;\n  hasConflicts: boolean;\n}> = ({ onAutoAllocate, onOptimizeCapacity, onResolveConflicts, hasConflicts }) => (\n  <div className=\"quick-actions\" role=\"toolbar\" aria-label=\"Quick allocation actions\">\n    <Tooltip content=\"AI will suggest optimal allocation based on pass quality and capacity\">\n      <Button\n        icon={IconNames.LIGHTBULB}\n        intent={Intent.PRIMARY}\n        onClick={onAutoAllocate}\n        className=\"quick-action-btn\"\n      >\n        Smart Allocate\n      </Button>\n    </Tooltip>\n    <Tooltip content=\"Rebalance passes to maximize capacity utilization\">\n      <Button\n        icon={IconNames.DIAGRAM_TREE}\n        onClick={onOptimizeCapacity}\n        className=\"quick-action-btn\"\n      >\n        Optimize Capacity\n      </Button>\n    </Tooltip>\n    {hasConflicts && (\n      <Tooltip content=\"Automatically resolve scheduling conflicts\">\n        <Button\n          icon={IconNames.RESOLVE}\n          intent={Intent.WARNING}\n          onClick={onResolveConflicts}\n          className=\"quick-action-btn\"\n        >\n          Resolve Conflicts\n        </Button>\n      </Tooltip>\n    )}\n  </div>\n);\n\n// Undo/Redo controls\nconst HistoryControls: React.FC<{\n  canUndo: boolean;\n  canRedo: boolean;\n  onUndo: () => void;\n  onRedo: () => void;\n  changeCount: number;\n}> = ({ canUndo, canRedo, onUndo, onRedo, changeCount }) => (\n  <div className=\"history-controls\" role=\"group\" aria-label=\"History controls\">\n    <ButtonGroup minimal>\n      <Tooltip content=\"Undo last change (Ctrl+Z)\">\n        <Button\n          icon={IconNames.UNDO}\n          disabled={!canUndo}\n          onClick={onUndo}\n          aria-label=\"Undo last change\"\n        />\n      </Tooltip>\n      <Tooltip content=\"Redo change (Ctrl+Y)\">\n        <Button\n          icon={IconNames.REDO}\n          disabled={!canRedo}\n          onClick={onRedo}\n          aria-label=\"Redo change\"\n        />\n      </Tooltip>\n    </ButtonGroup>\n    {changeCount > 0 && (\n      <Tag minimal intent={Intent.PRIMARY} className=\"change-count\">\n        {changeCount} unsaved {changeCount === 1 ? 'change' : 'changes'}\n      </Tag>\n    )}\n  </div>\n);\n\nconst ReallocationWorkspaceAccessible: React.FC<ReallocationWorkspaceAccessibleProps> = ({\n  opportunity,\n  availableSites,\n  isOpen,\n  onClose,\n  onSave\n}) => {\n  // State management\n  const [allocations, setAllocations] = useState<Map<string, SiteAllocation>>(new Map());\n  const [selectedPass, setSelectedPass] = useState<AvailablePass | null>(null);\n  const [filterQuality, setFilterQuality] = useState<string>('all');\n  const [searchQuery, setSearchQuery] = useState('');\n  const [showOnlyRecommended, setShowOnlyRecommended] = useState(false);\n  const [changeHistory, setChangeHistory] = useState<any[]>([]);\n  const [historyIndex, setHistoryIndex] = useState(-1);\n  const [isSaving, setIsSaving] = useState(false);\n  const [validationErrors, setValidationErrors] = useState<string[]>([]);\n  const [focusTrapRef, setFocusTrapRef] = useState<HTMLElement | null>(null);\n\n  // Refs for focus management\n  const dialogRef = useRef<HTMLDivElement>(null);\n  const firstFocusableRef = useRef<HTMLElement>(null);\n  const lastFocusableRef = useRef<HTMLElement>(null);\n\n  // Generate mock available passes\n  const availablePasses = useMemo<AvailablePass[]>(() => {\n    const siteCodes = ['DGS', 'CLR', 'FYL', 'BKK', 'GRM', 'NSG', 'MHS'];\n    return availableSites.slice(0, 7).map((site, index) => ({\n      id: `pass-${site.id}`,\n      siteId: site.id,\n      siteName: site.name,\n      siteCode: siteCodes[index % siteCodes.length],\n      quality: index === 0 ? 'excellent' : index < 3 ? 'good' : index < 5 ? 'fair' : 'poor',\n      passCount: Math.floor(Math.random() * 15) + 5,\n      totalDuration: Math.floor(Math.random() * 120) + 60,\n      peakElevation: Math.floor(Math.random() * 60) + 30,\n      durationThreshold: Math.random() > 0.7 ? 5 : 3,\n      capacityUsage: Math.floor(Math.random() * 80) + 20,\n      capacityTotal: 100,\n      conflicts: Math.random() > 0.8 ? ['Schedule conflict with ISR-7'] : undefined,\n      isRecommended: index < 3,\n      matchScore: 100 - (index * 15)\n    }));\n  }, [availableSites]);\n\n  // Calculate total allocated passes\n  const totalAllocatedPasses = useMemo(() => {\n    return Array.from(allocations.values()).reduce((sum, alloc) => sum + alloc.passes, 0);\n  }, [allocations]);\n\n  // Filter available passes\n  const filteredPasses = useMemo(() => {\n    let passes = [...availablePasses];\n\n    if (filterQuality !== 'all') {\n      passes = passes.filter(p => p.quality === filterQuality);\n    }\n\n    if (searchQuery) {\n      const query = searchQuery.toLowerCase();\n      passes = passes.filter(p => \n        p.siteName.toLowerCase().includes(query) ||\n        p.siteCode.toLowerCase().includes(query)\n      );\n    }\n\n    if (showOnlyRecommended) {\n      passes = passes.filter(p => p.isRecommended);\n    }\n\n    return passes.sort((a, b) => {\n      // Sort by quality first, then by match score\n      const qualityOrder = { excellent: 0, good: 1, fair: 2, poor: 3 };\n      const qualityDiff = qualityOrder[a.quality] - qualityOrder[b.quality];\n      if (qualityDiff !== 0) return qualityDiff;\n      return (b.matchScore || 0) - (a.matchScore || 0);\n    });\n  }, [availablePasses, filterQuality, searchQuery, showOnlyRecommended]);\n\n  // Focus management for accessibility\n  useEffect(() => {\n    if (isOpen && dialogRef.current) {\n      // Focus first focusable element when dialog opens\n      const focusableElements = dialogRef.current.querySelectorAll(\n        'button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])'\n      );\n      if (focusableElements.length > 0) {\n        (focusableElements[0] as HTMLElement).focus();\n      }\n\n      // Setup focus trap\n      const handleKeyDown = (e: KeyboardEvent) => {\n        if (e.key === 'Tab') {\n          const focusableElements = dialogRef.current!.querySelectorAll(\n            'button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])'\n          );\n          const firstElement = focusableElements[0] as HTMLElement;\n          const lastElement = focusableElements[focusableElements.length - 1] as HTMLElement;\n\n          if (e.shiftKey && document.activeElement === firstElement) {\n            e.preventDefault();\n            lastElement.focus();\n          } else if (!e.shiftKey && document.activeElement === lastElement) {\n            e.preventDefault();\n            firstElement.focus();\n          }\n        }\n      };\n\n      document.addEventListener('keydown', handleKeyDown);\n      return () => document.removeEventListener('keydown', handleKeyDown);\n    }\n  }, [isOpen]);\n\n  // Keyboard shortcuts\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      if (!isOpen) return;\n\n      // Ctrl/Cmd + Z for undo\n      if ((e.ctrlKey || e.metaKey) && e.key === 'z' && !e.shiftKey) {\n        e.preventDefault();\n        handleUndo();\n      }\n      // Ctrl/Cmd + Y or Ctrl/Cmd + Shift + Z for redo\n      if ((e.ctrlKey || e.metaKey) && (e.key === 'y' || (e.key === 'z' && e.shiftKey))) {\n        e.preventDefault();\n        handleRedo();\n      }\n      // Escape to close (if no unsaved changes)\n      if (e.key === 'Escape' && changeHistory.length === 0) {\n        onClose();\n      }\n    };\n\n    document.addEventListener('keydown', handleKeyDown);\n    return () => document.removeEventListener('keydown', handleKeyDown);\n  }, [isOpen, changeHistory.length, onClose]);\n\n  // Handle pass allocation\n  const handleAllocatePass = useCallback((pass: AvailablePass, passCount: number) => {\n    const newAllocation: SiteAllocation = {\n      siteId: pass.siteId,\n      siteName: pass.siteName,\n      siteCode: pass.siteCode,\n      passes: passCount,\n      capacity: pass.capacityTotal,\n      allocated: pass.capacityUsage,\n      availableCapacity: pass.capacityTotal - pass.capacityUsage,\n      quality: pass.quality,\n      elevation: pass.peakElevation,\n      duration: pass.totalDuration,\n      capacityUsage: pass.capacityUsage,\n      timeDistribution: 'Mon Wed Fri',\n      overrideReason: ''\n    };\n\n    const newAllocations = new Map(allocations);\n    newAllocations.set(pass.siteId, newAllocation);\n    setAllocations(newAllocations);\n    \n    // Add to history\n    const newHistory = changeHistory.slice(0, historyIndex + 1);\n    newHistory.push({ type: 'allocate', pass, allocation: newAllocation });\n    setChangeHistory(newHistory);\n    setHistoryIndex(newHistory.length - 1);\n  }, [allocations, changeHistory, historyIndex]);\n\n  // Handle pass count adjustment\n  const handleAdjustPasses = useCallback((siteId: string, delta: number) => {\n    const allocation = allocations.get(siteId);\n    if (!allocation) return;\n\n    const newPasses = Math.max(0, Math.min(20, allocation.passes + delta));\n    if (newPasses === allocation.passes) return;\n\n    const newAllocations = new Map(allocations);\n    newAllocations.set(siteId, { ...allocation, passes: newPasses });\n    setAllocations(newAllocations);\n\n    // Add to history\n    const newHistory = changeHistory.slice(0, historyIndex + 1);\n    newHistory.push({ type: 'adjust', siteId, oldValue: allocation.passes, newValue: newPasses });\n    setChangeHistory(newHistory);\n    setHistoryIndex(newHistory.length - 1);\n  }, [allocations, changeHistory, historyIndex]);\n\n  // Handle override reason\n  const handleOverrideReason = useCallback((siteId: string, reason: string) => {\n    const allocation = allocations.get(siteId);\n    if (!allocation) return;\n\n    const newAllocations = new Map(allocations);\n    newAllocations.set(siteId, { ...allocation, overrideReason: reason });\n    setAllocations(newAllocations);\n  }, [allocations]);\n\n  // Undo/Redo functionality\n  const handleUndo = useCallback(() => {\n    if (historyIndex < 0) return;\n    \n    const change = changeHistory[historyIndex];\n    // Implement undo logic based on change type\n    setHistoryIndex(historyIndex - 1);\n  }, [historyIndex, changeHistory]);\n\n  const handleRedo = useCallback(() => {\n    if (historyIndex >= changeHistory.length - 1) return;\n    \n    const change = changeHistory[historyIndex + 1];\n    // Implement redo logic based on change type\n    setHistoryIndex(historyIndex + 1);\n  }, [historyIndex, changeHistory]);\n\n  // Auto-allocation algorithm\n  const handleAutoAllocate = useCallback(() => {\n    const newAllocations = new Map<string, SiteAllocation>();\n    \n    // Select top 3 recommended passes\n    const recommendedPasses = filteredPasses\n      .filter(p => p.isRecommended)\n      .slice(0, 3);\n\n    recommendedPasses.forEach(pass => {\n      const allocation: SiteAllocation = {\n        siteId: pass.siteId,\n        siteName: pass.siteName,\n        siteCode: pass.siteCode,\n        passes: Math.min(10, pass.passCount),\n        capacity: pass.capacityTotal,\n        allocated: pass.capacityUsage,\n        availableCapacity: pass.capacityTotal - pass.capacityUsage,\n        quality: pass.quality,\n        elevation: pass.peakElevation,\n        duration: pass.totalDuration,\n        capacityUsage: pass.capacityUsage,\n        timeDistribution: 'Auto-distributed',\n        overrideReason: 'AI-optimized allocation'\n      };\n      newAllocations.set(pass.siteId, allocation);\n    });\n\n    setAllocations(newAllocations);\n    \n    // Add to history\n    const newHistory = changeHistory.slice(0, historyIndex + 1);\n    newHistory.push({ type: 'auto-allocate', allocations: Array.from(newAllocations.values()) });\n    setChangeHistory(newHistory);\n    setHistoryIndex(newHistory.length - 1);\n  }, [filteredPasses, changeHistory, historyIndex]);\n\n  // Save handler\n  const handleSave = async () => {\n    if (allocations.size === 0) {\n      setValidationErrors(['Please allocate at least one pass before saving.']);\n      return;\n    }\n\n    setIsSaving(true);\n    setValidationErrors([]);\n\n    try {\n      const changes = Array.from(allocations.values()).map(allocation => ({\n        opportunityId: opportunity.id,\n        siteId: allocation.siteId,\n        passes: allocation.passes,\n        timeDistribution: allocation.timeDistribution,\n        overrideReason: allocation.overrideReason\n      }));\n\n      await onSave(changes);\n      onClose();\n    } catch (error) {\n      setValidationErrors(['Failed to save changes. Please try again.']);\n    } finally {\n      setIsSaving(false);\n    }\n  };\n\n  // Check for conflicts\n  const hasConflicts = useMemo(() => {\n    return availablePasses.some(p => p.conflicts && p.conflicts.length > 0);\n  }, [availablePasses]);\n\n  return (\n    <Dialog\n      isOpen={isOpen}\n      onClose={onClose}\n      title={\n        <div className=\"workspace-header-accessible\">\n          <div className=\"header-main\">\n            <span className=\"workspace-icon\">\n              <Icon icon={IconNames.FLOWS} />\n            </span>\n            <H3>Allocation Manager</H3>\n            <div className=\"header-metadata\" role=\"region\" aria-label=\"Satellite information\">\n              <Tag minimal>SCC: {opportunity.sccNumber || 'N/A'}</Tag>\n              <Tag minimal>{opportunity.satellite.orbit}</Tag>\n              <Tag minimal intent={\n                opportunity.priority === 'critical' ? Intent.DANGER :\n                opportunity.priority === 'high' ? Intent.WARNING :\n                opportunity.priority === 'medium' ? Intent.PRIMARY :\n                Intent.NONE\n              }>\n                Priority: {opportunity.priorityValue || 0}\n              </Tag>\n              <Tag minimal>Periodicity: {opportunity.periodicity || 0} {opportunity.periodicityUnit || 'hours'}</Tag>\n            </div>\n          </div>\n          <HistoryControls\n            canUndo={historyIndex >= 0}\n            canRedo={historyIndex < changeHistory.length - 1}\n            onUndo={handleUndo}\n            onRedo={handleRedo}\n            changeCount={changeHistory.length}\n          />\n        </div>\n      }\n      className=\"reallocation-workspace-accessible\"\n      canEscapeKeyClose={changeHistory.length === 0}\n      canOutsideClickClose={changeHistory.length === 0}\n      style={{ width: '90vw', maxWidth: '1400px', height: '85vh' }}\n      portalContainer={document.body}\n    >\n      <div className={Classes.DIALOG_BODY} ref={dialogRef}>\n        {/* Quick Actions Bar */}\n        <div className=\"workspace-toolbar\" role=\"toolbar\">\n          <QuickActions\n            onAutoAllocate={handleAutoAllocate}\n            onOptimizeCapacity={() => console.log('Optimize capacity')}\n            onResolveConflicts={() => console.log('Resolve conflicts')}\n            hasConflicts={hasConflicts}\n          />\n          <div className=\"toolbar-right\">\n            <InputGroup\n              leftIcon={IconNames.SEARCH}\n              placeholder=\"Search sites...\"\n              value={searchQuery}\n              onChange={(e) => setSearchQuery(e.target.value)}\n              aria-label=\"Search available sites\"\n            />\n            <HTMLSelect\n              value={filterQuality}\n              onChange={(e) => setFilterQuality(e.target.value)}\n              aria-label=\"Filter by quality\"\n            >\n              <option value=\"all\">All Quality</option>\n              <option value=\"excellent\">Excellent</option>\n              <option value=\"good\">Good</option>\n              <option value=\"fair\">Fair</option>\n              <option value=\"poor\">Poor</option>\n            </HTMLSelect>\n            <Switch\n              checked={showOnlyRecommended}\n              onChange={(e) => setShowOnlyRecommended(e.currentTarget.checked)}\n              label=\"Recommended only\"\n              aria-label=\"Show only recommended passes\"\n            />\n          </div>\n        </div>\n\n        <Divider />\n\n        {/* Main Content - Two Panel Layout */}\n        <div className=\"workspace-panels\" role=\"main\">\n          {/* Left Panel - Available Passes */}\n          <div className=\"panel panel-left\" role=\"region\" aria-label=\"Available passes\">\n            <div className=\"panel-header\">\n              <H4>Available Passes</H4>\n              <Tag minimal>{filteredPasses.length} available</Tag>\n            </div>\n            \n            <div className=\"passes-list\" role=\"list\">\n              {filteredPasses.length === 0 ? (\n                <NonIdealState\n                  icon={IconNames.SATELLITE}\n                  title=\"No passes found\"\n                  description=\"Try adjusting your filters\"\n                />\n              ) : (\n                filteredPasses.map(pass => (\n                  <Card\n                    key={pass.id}\n                    className={`pass-card ${selectedPass?.id === pass.id ? 'selected' : ''} ${pass.isRecommended ? 'recommended' : ''}`}\n                    interactive\n                    onClick={() => setSelectedPass(pass)}\n                    role=\"listitem\"\n                    aria-selected={selectedPass?.id === pass.id}\n                    aria-label={`${pass.siteName} - ${pass.quality} quality, ${pass.passCount} passes available`}\n                  >\n                    <div className=\"pass-header\">\n                      <div className=\"pass-title\">\n                        <Tag large minimal className=\"site-code\">{pass.siteCode}</Tag>\n                        <span className=\"site-name\">{pass.siteName}</span>\n                        {pass.isRecommended && (\n                          <Tooltip content=\"AI recommends this site based on quality and capacity\">\n                            <span className=\"recommended-icon\">\n                              <Icon icon={IconNames.STAR} intent={Intent.WARNING} />\n                            </span>\n                          </Tooltip>\n                        )}\n                      </div>\n                      <Tag intent={\n                        pass.quality === 'excellent' ? Intent.SUCCESS :\n                        pass.quality === 'good' ? Intent.PRIMARY :\n                        pass.quality === 'fair' ? Intent.WARNING :\n                        Intent.NONE\n                      }>\n                        {pass.quality}\n                      </Tag>\n                    </div>\n                    \n                    <div className=\"pass-metrics\">\n                      <div className=\"metric-row\">\n                        <span className=\"metric-label\">Passes:</span>\n                        <strong>{pass.passCount}</strong>\n                      </div>\n                      <div className=\"metric-row\">\n                        <span className=\"metric-label\">Total:</span>\n                        <strong>{pass.totalDuration} min</strong>\n                      </div>\n                      <div className=\"metric-row\">\n                        <span className=\"metric-label\">Elevation:</span>\n                        <strong>{pass.peakElevation}</strong>\n                      </div>\n                      <div className=\"metric-row\">\n                        <span className=\"metric-label\">Duration:</span>\n                        <strong>&gt; {pass.durationThreshold}m</strong>\n                      </div>\n                    </div>\n\n                    <div className=\"pass-capacity\">\n                      <div className=\"capacity-label\">\n                        Capacity: <strong>{pass.capacityUsage}/{pass.capacityTotal}</strong>\n                      </div>\n                      <ProgressBar\n                        value={pass.capacityUsage / pass.capacityTotal}\n                        intent={\n                          pass.capacityUsage > 80 ? Intent.DANGER :\n                          pass.capacityUsage > 60 ? Intent.WARNING :\n                          Intent.SUCCESS\n                        }\n                        animate={false}\n                        stripes={false}\n                      />\n                    </div>\n\n                    {pass.conflicts && pass.conflicts.length > 0 && (\n                      <Callout intent={Intent.WARNING} icon={IconNames.WARNING_SIGN} compact>\n                        {pass.conflicts[0]}\n                      </Callout>\n                    )}\n\n                    <div className=\"pass-actions\">\n                      <Button\n                        intent={Intent.PRIMARY}\n                        fill\n                        disabled={allocations.has(pass.siteId)}\n                        onClick={(e: React.MouseEvent) => {\n                          e.stopPropagation();\n                          handleAllocatePass(pass, Math.min(5, pass.passCount));\n                        }}\n                      >\n                        {allocations.has(pass.siteId) ? 'Already Allocated' : 'Quick Allocate (5 passes)'}\n                      </Button>\n                    </div>\n                  </Card>\n                ))\n              )}\n            </div>\n          </div>\n\n          {/* Right Panel - Allocated Sites */}\n          <div className=\"panel panel-right\" role=\"region\" aria-label=\"Allocated sites\">\n            <div className=\"panel-header\">\n              <H4>Allocated Sites</H4>\n              <Tag minimal intent={Intent.PRIMARY}>\n                {totalAllocatedPasses} passes allocated across {allocations.size} sites\n              </Tag>\n            </div>\n\n            <div className=\"allocations-list\" role=\"list\">\n              {allocations.size === 0 ? (\n                <NonIdealState\n                  icon={IconNames.INBOX_GEO}\n                  title=\"No allocations yet\"\n                  description=\"Select passes from the left panel or use Smart Allocate\"\n                  action={\n                    <Button\n                      intent={Intent.PRIMARY}\n                      icon={IconNames.LIGHTBULB}\n                      onClick={handleAutoAllocate}\n                    >\n                      Smart Allocate\n                    </Button>\n                  }\n                />\n              ) : (\n                Array.from(allocations.values()).map(allocation => (\n                  <Card\n                    key={allocation.siteId}\n                    className=\"allocation-card\"\n                    role=\"listitem\"\n                  >\n                    <div className=\"allocation-header\">\n                      <div className=\"allocation-title\">\n                        <Tag large minimal className=\"site-code\">{allocation.siteCode}</Tag>\n                        <span className=\"site-name\">{allocation.siteName}</span>\n                      </div>\n                      <Button\n                        minimal\n                        small\n                        intent={Intent.DANGER}\n                        icon={IconNames.TRASH}\n                        onClick={() => {\n                          const newAllocations = new Map(allocations);\n                          newAllocations.delete(allocation.siteId);\n                          setAllocations(newAllocations);\n                        }}\n                        aria-label={`Remove ${allocation.siteName} allocation`}\n                      />\n                    </div>\n\n                    <div className=\"allocation-controls\">\n                      <FormGroup label=\"Collects\" inline>\n                        <div className=\"pass-adjuster\" role=\"group\" aria-label=\"Adjust pass count\">\n                          <Button\n                            minimal\n                            icon={IconNames.MINUS}\n                            onClick={() => handleAdjustPasses(allocation.siteId, -1)}\n                            disabled={allocation.passes <= 0}\n                            aria-label=\"Decrease pass count\"\n                          />\n                          <NumericInput\n                            value={allocation.passes}\n                            onValueChange={(value) => handleAdjustPasses(allocation.siteId, value - allocation.passes)}\n                            min={0}\n                            max={20}\n                            className=\"pass-count-input\"\n                            aria-label=\"Pass count\"\n                          />\n                          <Button\n                            minimal\n                            icon={IconNames.PLUS}\n                            onClick={() => handleAdjustPasses(allocation.siteId, 1)}\n                            disabled={allocation.passes >= 20}\n                            aria-label=\"Increase pass count\"\n                          />\n                        </div>\n                      </FormGroup>\n\n                      <FormGroup label=\"Time Distribution\" inline>\n                        <HTMLSelect\n                          value={allocation.timeDistribution}\n                          onChange={(e) => {\n                            const newAllocations = new Map(allocations);\n                            newAllocations.set(allocation.siteId, {\n                              ...allocation,\n                              timeDistribution: e.target.value\n                            });\n                            setAllocations(newAllocations);\n                          }}\n                          aria-label=\"Time distribution pattern\"\n                        >\n                          <option value=\"Mon Wed Fri\">Mon Wed Fri</option>\n                          <option value=\"Tue Thu Sat\">Tue Thu Sat</option>\n                          <option value=\"Daily\">Daily</option>\n                          <option value=\"Weekdays\">Weekdays</option>\n                          <option value=\"Custom\">Custom</option>\n                        </HTMLSelect>\n                      </FormGroup>\n                    </div>\n\n                    <FormGroup label=\"Reason for Override\" className=\"override-reason\">\n                      <TextArea\n                        value={allocation.overrideReason}\n                        onChange={(e) => handleOverrideReason(allocation.siteId, e.target.value)}\n                        placeholder=\"Optional: Explain manual changes...\"\n                        rows={2}\n                        fill\n                        aria-label=\"Override reason\"\n                      />\n                    </FormGroup>\n                  </Card>\n                ))\n              )}\n            </div>\n          </div>\n        </div>\n\n        {/* Validation Errors */}\n        {validationErrors.length > 0 && (\n          <Callout intent={Intent.DANGER} icon={IconNames.ERROR} className=\"validation-errors\">\n            {validationErrors.map((error, i) => (\n              <div key={i}>{error}</div>\n            ))}\n          </Callout>\n        )}\n      </div>\n\n      <div className={Classes.DIALOG_FOOTER}>\n        <div className={Classes.DIALOG_FOOTER_ACTIONS}>\n          <Button\n            onClick={onClose}\n            disabled={isSaving}\n            aria-label=\"Cancel and close\"\n          >\n            Cancel\n          </Button>\n          {changeHistory.length > 0 && (\n            <Button\n              onClick={() => {\n                setAllocations(new Map());\n                setChangeHistory([]);\n                setHistoryIndex(-1);\n              }}\n              disabled={isSaving}\n              aria-label=\"Clear all changes\"\n            >\n              Clear All\n            </Button>\n          )}\n          <Button\n            intent={Intent.PRIMARY}\n            onClick={handleSave}\n            loading={isSaving}\n            disabled={allocations.size === 0}\n            aria-label={`Save ${allocations.size} allocation${allocations.size !== 1 ? 's' : ''}`}\n          >\n            Save Allocations ({allocations.size})\n          </Button>\n        </div>\n      </div>\n    </Dialog>\n  );\n};\n\nexport default ReallocationWorkspaceAccessible;","import React, { useState, useMemo, useCallback, useEffect, useRef } from 'react';\nimport {\n  Cell,\n  Column,\n  Table2,\n  SelectionModes,\n  RenderMode,\n} from '@blueprintjs/table';\nimport {\n  Button,\n  Tag,\n  Intent,\n  Checkbox,\n  Menu,\n  MenuItem,\n  MenuDivider,\n  Popover,\n  Position,\n  Tooltip,\n  InputGroup,\n  Callout,\n  Card,\n  Navbar,\n  NavbarGroup,\n  NavbarHeading,\n  NavbarDivider,\n  ButtonGroup,\n  Classes,\n  NonIdealState,\n  Spinner,\n  Dialog,\n  Drawer,\n  DrawerSize,\n  H2,\n  H3\n} from '@blueprintjs/core';\nimport { IconNames } from '@blueprintjs/icons';\nimport { Icon } from '@blueprintjs/core';\nimport {\n  CollectionOpportunity,\n  Site,\n  MatchStatus,\n  Priority,\n  CollectionType,\n  ClassificationLevel\n} from '../types/collectionOpportunities';\nimport { useAllocationContext } from '../contexts/AllocationContext';\nimport ReallocationWorkspaceAccessible from './ReallocationWorkspaceAccessible';\nimport './CollectionOpportunitiesAccessible.css';\n\ninterface CollectionOpportunitiesAccessibleProps {\n  opportunities: CollectionOpportunity[];\n  availableSites: Site[];\n  onBatchUpdate: (changes: any[]) => Promise<void>;\n  onOpenWorkspace?: (opportunityId: string) => void;\n  capacityThresholds?: {\n    critical: number;\n    warning: number;\n    optimal: number;\n  };\n  enableRealTimeValidation?: boolean;\n  enableHealthAnalysis?: boolean;\n  showWorkspaceOption?: boolean;\n}\n\n// Keyboard navigation help dialog\nconst KeyboardHelpDialog: React.FC<{ isOpen: boolean; onClose: () => void }> = ({ isOpen, onClose }) => (\n  <Dialog\n    isOpen={isOpen}\n    onClose={onClose}\n    title=\"Keyboard Shortcuts\"\n    icon={IconNames.KEY}\n    canEscapeKeyClose\n    canOutsideClickClose\n  >\n    <div className={Classes.DIALOG_BODY}>\n      <table className=\"keyboard-shortcuts-table\" role=\"table\">\n        <thead>\n          <tr>\n            <th scope=\"col\">Shortcut</th>\n            <th scope=\"col\">Action</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr><td><kbd>Tab</kbd></td><td>Navigate forward through elements</td></tr>\n          <tr><td><kbd>Shift + Tab</kbd></td><td>Navigate backward through elements</td></tr>\n          <tr><td><kbd>Arrow Keys</kbd></td><td>Navigate through table cells</td></tr>\n          <tr><td><kbd>Enter</kbd></td><td>Open allocation modal for selected row</td></tr>\n          <tr><td><kbd>Space</kbd></td><td>Toggle row selection</td></tr>\n          <tr><td><kbd>Ctrl/Cmd + S</kbd></td><td>Save changes</td></tr>\n          <tr><td><kbd>Ctrl/Cmd + Z</kbd></td><td>Undo last change</td></tr>\n          <tr><td><kbd>Ctrl/Cmd + Y</kbd></td><td>Redo last change</td></tr>\n          <tr><td><kbd>Ctrl/Cmd + A</kbd></td><td>Select all rows</td></tr>\n          <tr><td><kbd>Escape</kbd></td><td>Clear selection / Close modal</td></tr>\n          <tr><td><kbd>?</kbd></td><td>Show this help dialog</td></tr>\n          <tr><td><kbd>Alt + H</kbd></td><td>Toggle high contrast mode</td></tr>\n        </tbody>\n      </table>\n    </div>\n  </Dialog>\n);\n\n// Skip navigation link component\nconst SkipNavigation: React.FC = () => (\n  <a \n    href=\"#main-table\" \n    className=\"skip-navigation\"\n    onFocus={(e) => e.currentTarget.classList.add('focused')}\n    onBlur={(e) => e.currentTarget.classList.remove('focused')}\n  >\n    Skip to main table\n  </a>\n);\n\nconst CollectionOpportunitiesAccessible: React.FC<CollectionOpportunitiesAccessibleProps> = React.memo(({\n  opportunities,\n  availableSites,\n  onBatchUpdate,\n  onOpenWorkspace,\n  capacityThresholds = { critical: 10, warning: 30, optimal: 70 },\n  enableRealTimeValidation = true,\n  enableHealthAnalysis = true,\n  showWorkspaceOption = true,\n}) => {\n  const { \n    state,\n    updateOpportunity,\n    commitChanges,\n    rollbackChanges,\n    openWorkspace,\n    closeWorkspace,\n    undo,\n    redo,\n    canUndo,\n    canRedo\n  } = useAllocationContext();\n\n  const [searchQuery, setSearchQuery] = useState('');\n  const [selectedRows, setSelectedRows] = useState<Set<string>>(new Set());\n  const [showKeyboardHelp, setShowKeyboardHelp] = useState(false);\n  const [showReallocationModal, setShowReallocationModal] = useState(false);\n  const [selectedOpportunity, setSelectedOpportunity] = useState<CollectionOpportunity | null>(null);\n  const [highContrastMode, setHighContrastMode] = useState(() => \n    localStorage.getItem('highContrastMode') === 'true'\n  );\n  const [sortColumn, setSortColumn] = useState<string | null>(null);\n  const [sortDirection, setSortDirection] = useState<'asc' | 'desc'>('asc');\n  const [announcements, setAnnouncements] = useState<string>('');\n\n  const tableRef = useRef<HTMLDivElement>(null);\n  const announcerRef = useRef<HTMLDivElement>(null);\n  const focusedCellRef = useRef<{ row: number; col: number }>({ row: 0, col: 0 });\n\n  // ARIA live region announcements\n  const announce = useCallback((message: string) => {\n    setAnnouncements(message);\n    // Clear after announcement\n    setTimeout(() => setAnnouncements(''), 1000);\n  }, []);\n\n  // Toggle high contrast mode\n  const toggleHighContrastMode = useCallback(() => {\n    const newMode = !highContrastMode;\n    setHighContrastMode(newMode);\n    localStorage.setItem('highContrastMode', newMode.toString());\n    document.body.classList.toggle('high-contrast', newMode);\n    announce(newMode ? 'High contrast mode enabled' : 'High contrast mode disabled');\n  }, [highContrastMode, announce]);\n\n  // Filter and sort data\n  const processedData = useMemo(() => {\n    let data = [...opportunities];\n\n    // Search filter\n    if (searchQuery) {\n      const query = searchQuery.toLowerCase();\n      data = data.filter(opp =>\n        opp.name.toLowerCase().includes(query) ||\n        opp.satellite.name.toLowerCase().includes(query) ||\n        (opp.sccNumber && String(opp.sccNumber).includes(query)) ||\n        opp.notes?.toLowerCase().includes(query)\n      );\n    }\n\n    // Apply sorting\n    if (sortColumn) {\n      data.sort((a, b) => {\n        let aVal, bVal;\n\n        switch (sortColumn) {\n          case 'priority':\n            aVal = a.priorityValue || 0;\n            bVal = b.priorityValue || 0;\n            break;\n          case 'match':\n            aVal = a.matchStatus;\n            bVal = b.matchStatus;\n            break;\n          case 'periodicity':\n            aVal = a.periodicity || 0;\n            bVal = b.periodicity || 0;\n            break;\n          default:\n            aVal = (a as any)[sortColumn];\n            bVal = (b as any)[sortColumn];\n        }\n        \n        if (aVal === undefined || bVal === undefined) return 0;\n        if (aVal < bVal) return sortDirection === 'asc' ? -1 : 1;\n        if (aVal > bVal) return sortDirection === 'asc' ? 1 : -1;\n        return 0;\n      });\n    }\n\n    return data;\n  }, [opportunities, searchQuery, sortColumn, sortDirection]);\n\n  // Enhanced keyboard navigation\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      // Show help dialog\n      if (e.key === '?' && !e.ctrlKey && !e.metaKey) {\n        e.preventDefault();\n        setShowKeyboardHelp(true);\n        return;\n      }\n\n      // Toggle high contrast\n      if (e.altKey && e.key === 'h') {\n        e.preventDefault();\n        toggleHighContrastMode();\n        return;\n      }\n\n      // Global shortcuts\n      if (e.ctrlKey || e.metaKey) {\n        switch (e.key) {\n          case 's': // Save\n            e.preventDefault();\n            if (state.pendingChanges.size > 0) {\n              commitChanges();\n              announce(`Saving ${state.pendingChanges.size} changes`);\n            }\n            break;\n          case 'z': // Undo\n            e.preventDefault();\n            if (canUndo) {\n              undo();\n              announce('Change undone');\n            }\n            break;\n          case 'y': // Redo\n            e.preventDefault();\n            if (canRedo) {\n              redo();\n              announce('Change redone');\n            }\n            break;\n          case 'a': // Select all\n            e.preventDefault();\n            setSelectedRows(new Set(processedData.map(o => o.id)));\n            announce(`Selected all ${processedData.length} opportunities`);\n            break;\n        }\n      }\n\n      // Escape to clear selection\n      if (e.key === 'Escape') {\n        if (selectedRows.size > 0) {\n          setSelectedRows(new Set());\n          announce('Selection cleared');\n        }\n      }\n\n      // Enter to open modal for selected row\n      if (e.key === 'Enter' && !e.shiftKey && selectedRows.size === 1) {\n        const selectedId = Array.from(selectedRows)[0];\n        const opportunity = processedData.find(o => o.id === selectedId);\n        if (opportunity) {\n          handleOpenReallocationModal(opportunity);\n        }\n      }\n\n      // Arrow key navigation in table\n      if (tableRef.current && ['ArrowUp', 'ArrowDown', 'ArrowLeft', 'ArrowRight'].includes(e.key)) {\n        e.preventDefault();\n        navigateTable(e.key as 'ArrowUp' | 'ArrowDown' | 'ArrowLeft' | 'ArrowRight');\n      }\n    };\n\n    document.addEventListener('keydown', handleKeyDown);\n    return () => document.removeEventListener('keydown', handleKeyDown);\n  }, [processedData, selectedRows, state, commitChanges, announce, toggleHighContrastMode]);\n\n  // Table navigation handler\n  const navigateTable = (direction: 'ArrowUp' | 'ArrowDown' | 'ArrowLeft' | 'ArrowRight') => {\n    const { row, col } = focusedCellRef.current;\n    let newRow = row;\n    let newCol = col;\n\n    switch (direction) {\n      case 'ArrowUp':\n        newRow = Math.max(0, row - 1);\n        break;\n      case 'ArrowDown':\n        newRow = Math.min(processedData.length - 1, row + 1);\n        break;\n      case 'ArrowLeft':\n        newCol = Math.max(0, col - 1);\n        break;\n      case 'ArrowRight':\n        newCol = Math.min(10, col + 1); // 11 columns total\n        break;\n    }\n\n    focusedCellRef.current = { row: newRow, col: newCol };\n    // Focus the cell (implementation depends on table structure)\n  };\n\n  // Handle row selection with announcement\n  const handleRowSelection = useCallback((opportunityId: string, selected: boolean) => {\n    const newSelection = new Set(selectedRows);\n    if (selected) {\n      newSelection.add(opportunityId);\n    } else {\n      newSelection.delete(opportunityId);\n    }\n    setSelectedRows(newSelection);\n    \n    const opportunity = processedData.find(o => o.id === opportunityId);\n    if (opportunity) {\n      announce(`${opportunity.name} ${selected ? 'selected' : 'deselected'}`);\n    }\n  }, [selectedRows, processedData, announce]);\n\n  // Handle opening reallocation modal\n  const handleOpenReallocationModal = useCallback((opportunity: CollectionOpportunity) => {\n    setSelectedOpportunity(opportunity);\n    setShowReallocationModal(true);\n    announce(`Opening allocation modal for ${opportunity.name}`);\n  }, [announce]);\n\n  // Column renderers with accessibility enhancements\n  \n  // 1. Priority column (numerical)\n  const priorityCellRenderer = useCallback((rowIndex: number) => {\n    const opportunity = processedData[rowIndex];\n    const priorityColors: Record<Priority, Intent> = {\n      low: Intent.NONE,\n      medium: Intent.PRIMARY,\n      high: Intent.WARNING,\n      critical: Intent.DANGER,\n    };\n\n    return (\n      <Cell>\n        <div className=\"priority-cell\" role=\"cell\" aria-label={`Priority: ${opportunity?.priorityValue || 'N/A'}`}>\n          <Tag \n            intent={priorityColors[opportunity?.priority || 'low']}\n            large\n            aria-label={`${opportunity?.priority} priority, value ${opportunity?.priorityValue || 0}`}\n          >\n            {opportunity?.priorityValue || 0}\n          </Tag>\n          <span className=\"sr-only\">{opportunity?.priority} priority</span>\n        </div>\n      </Cell>\n    );\n  }, [processedData]);\n\n  // 2. Match status column\n  const matchStatusCellRenderer = useCallback((rowIndex: number) => {\n    const opportunity = processedData[rowIndex];\n    const matchStatusLabels: Record<MatchStatus, string> = {\n      baseline: 'Baseline',\n      suboptimal: 'Suboptimal',\n      unmatched: 'Unmatched'\n    };\n    const matchStatusIntent: Record<MatchStatus, Intent> = {\n      baseline: Intent.SUCCESS,\n      suboptimal: Intent.WARNING,\n      unmatched: Intent.DANGER\n    };\n\n    return (\n      <Cell>\n        <div className=\"match-status-cell\" role=\"cell\">\n          <Tag \n            intent={matchStatusIntent[opportunity?.matchStatus || 'unmatched']}\n            aria-label={`Match status: ${matchStatusLabels[opportunity?.matchStatus || 'unmatched']}`}\n          >\n            {matchStatusLabels[opportunity?.matchStatus || 'unmatched']}\n          </Tag>\n        </div>\n      </Cell>\n    );\n  }, [processedData]);\n\n  // 3. Match notes column\n  const matchNotesCellRenderer = useCallback((rowIndex: number) => {\n    const opportunity = processedData[rowIndex];\n    const matchNotes = opportunity?.matchNotes || 'N/A';\n\n    return (\n      <Cell>\n        <div \n          className=\"match-notes-cell\" \n          role=\"cell\"\n          aria-label={`Match notes: ${matchNotes}`}\n        >\n          {matchNotes === 'Best Pass' && (\n            <Tag intent={Intent.SUCCESS} icon={IconNames.TICK}>\n              Best Pass\n            </Tag>\n          )}\n          {matchNotes === 'Capacity Issue' && (\n            <Tag intent={Intent.WARNING} icon={IconNames.WARNING_SIGN}>\n              Capacity Issue\n            </Tag>\n          )}\n          {matchNotes !== 'Best Pass' && matchNotes !== 'Capacity Issue' && (\n            <span>{matchNotes}</span>\n          )}\n        </div>\n      </Cell>\n    );\n  }, [processedData]);\n\n  // 4. SCC column\n  const sccCellRenderer = useCallback((rowIndex: number) => {\n    const opportunity = processedData[rowIndex];\n    return (\n      <Cell>\n        <div role=\"cell\" aria-label={`SCC: ${opportunity?.sccNumber || 'N/A'}`}>\n          <code>{opportunity?.sccNumber || 'N/A'}</code>\n        </div>\n      </Cell>\n    );\n  }, [processedData]);\n\n  // 5. Function column\n  const functionCellRenderer = useCallback((rowIndex: number) => {\n    const opportunity = processedData[rowIndex];\n    return (\n      <Cell>\n        <div role=\"cell\" aria-label={`Function: ${opportunity?.satellite.function || 'N/A'}`}>\n          {opportunity?.satellite.function || 'N/A'}\n        </div>\n      </Cell>\n    );\n  }, [processedData]);\n\n  // 6. Orbit column\n  const orbitCellRenderer = useCallback((rowIndex: number) => {\n    const opportunity = processedData[rowIndex];\n    return (\n      <Cell>\n        <div role=\"cell\" aria-label={`Orbit: ${opportunity?.satellite.orbit || 'N/A'}`}>\n          {opportunity?.satellite.orbit || 'N/A'}\n        </div>\n      </Cell>\n    );\n  }, [processedData]);\n\n  // 7. Periodicity column\n  const periodicityCellRenderer = useCallback((rowIndex: number) => {\n    const opportunity = processedData[rowIndex];\n    const periodicity = opportunity?.periodicity || 0;\n    const unit = opportunity?.periodicityUnit || 'hours';\n\n    return (\n      <Cell>\n        <div role=\"cell\" aria-label={`Periodicity: ${periodicity} ${unit}`}>\n          {periodicity > 0 ? `${periodicity} ${unit}` : 'N/A'}\n        </div>\n      </Cell>\n    );\n  }, [processedData]);\n\n  // 8. Collection Type column\n  const collectionTypeCellRenderer = useCallback((rowIndex: number) => {\n    const opportunity = processedData[rowIndex];\n    const typeLabels: Record<CollectionType, string> = {\n      optical: 'Optical',\n      wideband: 'Wideband',\n      narrowband: 'Narrowband'\n    };\n\n    return (\n      <Cell>\n        <div role=\"cell\" aria-label={`Collection type: ${typeLabels[opportunity?.collectionType || 'optical']}`}>\n          {typeLabels[opportunity?.collectionType || 'optical']}\n        </div>\n      </Cell>\n    );\n  }, [processedData]);\n\n  // 9. Classification column\n  const classificationCellRenderer = useCallback((rowIndex: number) => {\n    const opportunity = processedData[rowIndex];\n    const classification = opportunity?.classificationLevel || 'UNCLASSIFIED';\n\n    return (\n      <Cell>\n        <div role=\"cell\" aria-label={`Classification: ${classification}`}>\n          <Tag minimal className={`classification-${classification.toLowerCase()}`}>\n            {classification === 'SECRET' ? 'S//REL FVEY' : classification}\n          </Tag>\n        </div>\n      </Cell>\n    );\n  }, [processedData]);\n\n  // 10. Site Allocation column\n  const siteAllocationCellRenderer = useCallback((rowIndex: number) => {\n    const opportunity = processedData[rowIndex];\n    const sites = opportunity?.siteAllocationCodes || [];\n\n    return (\n      <Cell>\n        <div \n          role=\"cell\" \n          aria-label={`Site allocation: ${sites.length > 0 ? sites.join(', ') : 'None'}`}\n        >\n          {sites.length > 0 ? (\n            <div className=\"site-codes\">\n              {sites.map(code => (\n                <Tag key={code} minimal>{code}</Tag>\n              ))}\n            </div>\n          ) : (\n            <span className={Classes.TEXT_MUTED}>None</span>\n          )}\n        </div>\n      </Cell>\n    );\n  }, [processedData]);\n\n  // 11. Notes column\n  const notesCellRenderer = useCallback((rowIndex: number) => {\n    const opportunity = processedData[rowIndex];\n    const hasNotes = !!opportunity?.notes;\n\n    return (\n      <Cell>\n        <div role=\"cell\" aria-label={`Notes: ${opportunity?.notes || 'No notes'}`}>\n          {hasNotes ? (\n            <Tooltip content={opportunity.notes}>\n              <span className={Classes.ICON} data-icon=\"comment\" />\n            </Tooltip>\n          ) : (\n            <span className={Classes.TEXT_MUTED}></span>\n          )}\n        </div>\n      </Cell>\n    );\n  }, [processedData]);\n\n  // Name cell renderer - clickable for allocation modal\n  const nameCellRenderer = useCallback((rowIndex: number) => {\n    const opportunity = processedData[rowIndex];\n    return (\n      <Cell>\n        <div className=\"name-cell-accessible\">\n          <Button\n            minimal\n            className=\"opportunity-name-button\"\n            onClick={() => handleOpenReallocationModal(opportunity)}\n            aria-label={`Open allocation modal for ${opportunity?.name}`}\n          >\n            <strong>{opportunity?.name}</strong>\n          </Button>\n        </div>\n      </Cell>\n    );\n  }, [processedData, handleOpenReallocationModal]);\n\n  // Enhanced checkbox cell with better accessibility\n  const checkboxCellRenderer = useCallback((rowIndex: number) => {\n    const opportunity = processedData[rowIndex];\n    if (!opportunity) return <Cell />;\n\n    return (\n      <Cell>\n        <Checkbox\n          checked={selectedRows.has(opportunity.id)}\n          onChange={(e) => handleRowSelection(opportunity.id, e.currentTarget.checked)}\n          aria-label={`Select ${opportunity.name}`}\n          className=\"row-checkbox\"\n        />\n      </Cell>\n    );\n  }, [processedData, selectedRows, handleRowSelection]);\n\n  // Handle sort with announcement\n  const handleSort = useCallback((column: string) => {\n    const newDirection = sortColumn === column && sortDirection === 'asc' ? 'desc' : 'asc';\n    setSortColumn(column);\n    setSortDirection(newDirection);\n    announce(`Sorting by ${column} in ${newDirection}ending order`);\n  }, [sortColumn, sortDirection, announce]);\n\n  // Create sortable header renderer\n  const createSortableHeader = (column: string, label: string) => () => (\n    <Button\n      minimal\n      className=\"sortable-header\"\n      onClick={() => handleSort(column)}\n      aria-label={`Sort by ${label} ${sortColumn === column ? (sortDirection === 'asc' ? 'descending' : 'ascending') : ''}`}\n      aria-sort={sortColumn === column ? (sortDirection === 'asc' ? 'ascending' : 'descending') : 'none'}\n    >\n      {label}\n      {sortColumn === column && (\n        <Icon icon={sortDirection === 'asc' ? IconNames.CHEVRON_UP : IconNames.CHEVRON_DOWN} />\n      )}\n    </Button>\n  );\n\n  // Apply high contrast mode on mount\n  useEffect(() => {\n    document.body.classList.toggle('high-contrast', highContrastMode);\n  }, []);\n\n  return (\n    <div className={`collection-opportunities-accessible ${highContrastMode ? 'high-contrast' : ''}`}>\n      <SkipNavigation />\n      \n      {/* ARIA live region for announcements */}\n      <div \n        ref={announcerRef}\n        className=\"sr-only\"\n        role=\"status\" \n        aria-live=\"polite\" \n        aria-atomic=\"true\"\n      >\n        {announcements}\n      </div>\n\n      {/* Header with enhanced navigation */}\n      <header role=\"banner\">\n        <Navbar className=\"opportunities-navbar\" aria-label=\"Collection opportunities toolbar\">\n          <NavbarGroup>\n            <NavbarHeading>\n              <H2>Satellite Collection Management</H2>\n            </NavbarHeading>\n            <NavbarDivider />\n            \n            {/* Search with better labeling */}\n            <InputGroup\n              leftIcon={IconNames.SEARCH}\n              placeholder=\"Search opportunities...\"\n              value={searchQuery}\n              onChange={(e) => setSearchQuery(e.target.value)}\n              aria-label=\"Search collection opportunities\"\n              className=\"search-input\"\n            />\n          </NavbarGroup>\n          \n          <NavbarGroup align=\"right\">\n            {/* Action buttons with clear labels */}\n            {state.pendingChanges.size > 0 && (\n              <>\n                <Button\n                  minimal\n                  onClick={() => rollbackChanges()}\n                  aria-label={`Cancel ${state.pendingChanges.size} pending changes`}\n                >\n                  Cancel Changes ({state.pendingChanges.size})\n                </Button>\n                <Button\n                  intent={Intent.PRIMARY}\n                  onClick={commitChanges}\n                  loading={state.isSaving}\n                  icon={IconNames.CLOUD_UPLOAD}\n                  aria-label={`Save ${state.pendingChanges.size} pending changes`}\n                >\n                  Save Changes ({state.pendingChanges.size})\n                </Button>\n              </>\n            )}\n            \n            <ButtonGroup>\n              <Tooltip content=\"Keyboard shortcuts\">\n                <Button\n                  icon={IconNames.KEY}\n                  onClick={() => setShowKeyboardHelp(true)}\n                  aria-label=\"Show keyboard shortcuts\"\n                />\n              </Tooltip>\n              <Tooltip content={highContrastMode ? 'Disable high contrast' : 'Enable high contrast'}>\n                <Button\n                  icon={IconNames.CONTRAST}\n                  active={highContrastMode}\n                  onClick={toggleHighContrastMode}\n                  aria-label={`${highContrastMode ? 'Disable' : 'Enable'} high contrast mode`}\n                />\n              </Tooltip>\n            </ButtonGroup>\n          </NavbarGroup>\n        </Navbar>\n      </header>\n\n      {/* Status summary for screen readers */}\n      <div className=\"sr-only\" aria-live=\"polite\">\n        {processedData.length} opportunities displayed. \n        {selectedRows.size > 0 && `${selectedRows.size} selected.`}\n        {state.pendingChanges.size > 0 && `${state.pendingChanges.size} unsaved changes.`}\n      </div>\n\n      {/* Main table with enhanced accessibility */}\n      <main id=\"main-table\" role=\"main\" ref={tableRef}>\n        {processedData.length === 0 ? (\n          <NonIdealState\n            icon={IconNames.SEARCH}\n            title=\"No opportunities found\"\n            description=\"Try adjusting your search criteria.\"\n          />\n        ) : (\n          <div role=\"region\" aria-label=\"Collection opportunities table\">\n            <Table2\n              numRows={processedData.length}\n              enableRowHeader={false}\n              enableColumnHeader={true}\n              enableRowReordering={false}\n              enableColumnReordering={false}\n              enableRowResizing={false}\n              enableColumnResizing={true}\n              enableFocusedCell={true}\n              selectionModes={SelectionModes.ROWS_ONLY}\n              renderMode={RenderMode.BATCH}\n              className=\"opportunities-table-accessible\"\n              cellRendererDependencies={[processedData, selectedRows, sortColumn, sortDirection]}\n              aria-label=\"Collection opportunities data table\"\n              role=\"table\"\n            >\n              {/* Columns in specified order */}\n              <Column\n                name=\"\"\n                cellRenderer={checkboxCellRenderer}\n                columnHeaderCellRenderer={() => (\n                  <Checkbox\n                    checked={selectedRows.size === processedData.length && processedData.length > 0}\n                    indeterminate={selectedRows.size > 0 && selectedRows.size < processedData.length}\n                    onChange={(e) => {\n                      if (e.currentTarget.checked) {\n                        setSelectedRows(new Set(processedData.map(o => o.id)));\n                        announce(`Selected all ${processedData.length} opportunities`);\n                      } else {\n                        setSelectedRows(new Set());\n                        announce('Deselected all opportunities');\n                      }\n                    }}\n                    aria-label=\"Select all opportunities\"\n                  />\n                )}\n              />\n              \n              {/* 1. Priority */}\n              <Column \n                name=\"Priority\" \n                cellRenderer={priorityCellRenderer}\n                columnHeaderCellRenderer={createSortableHeader('priority', 'Priority')}\n              />\n              \n              {/* 2. Match */}\n              <Column \n                name=\"Match\" \n                cellRenderer={matchStatusCellRenderer}\n                columnHeaderCellRenderer={createSortableHeader('match', 'Match Status')}\n              />\n              \n              {/* 3. Match Notes */}\n              <Column \n                name=\"Match Notes\" \n                cellRenderer={matchNotesCellRenderer}\n              />\n              \n              {/* 4. SCC */}\n              <Column \n                name=\"SCC\" \n                cellRenderer={sccCellRenderer}\n                columnHeaderCellRenderer={createSortableHeader('sccNumber', 'SCC')}\n              />\n              \n              {/* 5. Function */}\n              <Column \n                name=\"Function\" \n                cellRenderer={functionCellRenderer}\n                columnHeaderCellRenderer={createSortableHeader('function', 'Function')}\n              />\n              \n              {/* 6. Orbit */}\n              <Column \n                name=\"Orbit\" \n                cellRenderer={orbitCellRenderer}\n                columnHeaderCellRenderer={createSortableHeader('orbit', 'Orbit')}\n              />\n              \n              {/* 7. Periodicity */}\n              <Column \n                name=\"Periodicity\" \n                cellRenderer={periodicityCellRenderer}\n                columnHeaderCellRenderer={createSortableHeader('periodicity', 'Periodicity')}\n              />\n              \n              {/* 8. Collection Type */}\n              <Column \n                name=\"Collection Type\" \n                cellRenderer={collectionTypeCellRenderer}\n              />\n              \n              {/* 9. Classification */}\n              <Column \n                name=\"Classification\" \n                cellRenderer={classificationCellRenderer}\n              />\n              \n              {/* 10. Site Allocation */}\n              <Column \n                name=\"Site Allocation\" \n                cellRenderer={siteAllocationCellRenderer}\n              />\n              \n              {/* 11. Notes */}\n              <Column \n                name=\"Notes\" \n                cellRenderer={notesCellRenderer}\n              />\n              \n              {/* Opportunity Name (for clicking) */}\n              <Column \n                name=\"Name\" \n                cellRenderer={nameCellRenderer}\n              />\n            </Table2>\n          </div>\n        )}\n      </main>\n\n      {/* Keyboard help dialog */}\n      <KeyboardHelpDialog \n        isOpen={showKeyboardHelp} \n        onClose={() => setShowKeyboardHelp(false)} \n      />\n\n      {/* Allocation modal */}\n      {showReallocationModal && selectedOpportunity && (\n        <ReallocationWorkspaceAccessible\n          opportunity={selectedOpportunity}\n          availableSites={availableSites}\n          isOpen={showReallocationModal}\n          onClose={() => {\n            setShowReallocationModal(false);\n            setSelectedOpportunity(null);\n            announce('Allocation modal closed');\n          }}\n          onSave={async (changes) => {\n            await onBatchUpdate(changes);\n            setShowReallocationModal(false);\n            setSelectedOpportunity(null);\n            announce('Changes saved successfully');\n          }}\n        />\n      )}\n    </div>\n  );\n});\n\nCollectionOpportunitiesAccessible.displayName = 'CollectionOpportunitiesAccessible';\n\nexport default CollectionOpportunitiesAccessible;"],"names":["QuickActions","_ref","onAutoAllocate","onOptimizeCapacity","onResolveConflicts","hasConflicts","_jsxs","className","role","children","_jsx","Tooltip","content","Button","icon","IconNames","LIGHTBULB","intent","Intent","PRIMARY","onClick","DIAGRAM_TREE","RESOLVE","WARNING","HistoryControls","_ref2","canUndo","canRedo","onUndo","onRedo","changeCount","ButtonGroup","minimal","UNDO","disabled","REDO","Tag","_ref3","opportunity","availableSites","isOpen","onClose","onSave","allocations","setAllocations","useState","Map","selectedPass","setSelectedPass","filterQuality","setFilterQuality","searchQuery","setSearchQuery","showOnlyRecommended","setShowOnlyRecommended","changeHistory","setChangeHistory","historyIndex","setHistoryIndex","isSaving","setIsSaving","validationErrors","setValidationErrors","focusTrapRef","setFocusTrapRef","dialogRef","useRef","availablePasses","useMemo","siteCodes","slice","map","site","index","id","concat","siteId","siteName","name","siteCode","length","quality","passCount","Math","floor","random","totalDuration","peakElevation","durationThreshold","capacityUsage","capacityTotal","conflicts","undefined","isRecommended","matchScore","totalAllocatedPasses","Array","from","values","reduce","sum","alloc","passes","filteredPasses","filter","p","query","toLowerCase","includes","sort","a","b","qualityOrder","excellent","good","fair","poor","qualityDiff","useEffect","current","focusableElements","querySelectorAll","focus","handleKeyDown","e","key","firstElement","lastElement","shiftKey","document","activeElement","preventDefault","addEventListener","removeEventListener","ctrlKey","metaKey","handleUndo","handleRedo","handleAllocatePass","useCallback","pass","newAllocation","capacity","allocated","availableCapacity","elevation","duration","timeDistribution","overrideReason","newAllocations","set","newHistory","push","type","allocation","handleAdjustPasses","delta","get","newPasses","max","min","_objectSpread","oldValue","newValue","handleOverrideReason","reason","handleAutoAllocate","forEach","some","Dialog","title","Icon","FLOWS","H3","sccNumber","satellite","orbit","priority","DANGER","NONE","priorityValue","periodicity","periodicityUnit","canEscapeKeyClose","canOutsideClickClose","style","width","maxWidth","height","portalContainer","body","Classes","ref","console","log","InputGroup","leftIcon","SEARCH","placeholder","value","onChange","target","HTMLSelect","Switch","checked","currentTarget","label","Divider","H4","NonIdealState","SATELLITE","description","Card","interactive","large","STAR","SUCCESS","ProgressBar","animate","stripes","Callout","WARNING_SIGN","compact","fill","has","stopPropagation","size","INBOX_GEO","action","small","TRASH","delete","FormGroup","inline","MINUS","NumericInput","onValueChange","PLUS","TextArea","rows","ERROR","error","i","async","changes","opportunityId","loading","KeyboardHelpDialog","KEY","scope","SkipNavigation","href","onFocus","classList","add","onBlur","remove","CollectionOpportunitiesAccessible","React","opportunities","onBatchUpdate","onOpenWorkspace","capacityThresholds","critical","warning","optimal","enableRealTimeValidation","enableHealthAnalysis","showWorkspaceOption","state","updateOpportunity","commitChanges","rollbackChanges","openWorkspace","closeWorkspace","undo","redo","useAllocationContext","selectedRows","setSelectedRows","Set","showKeyboardHelp","setShowKeyboardHelp","showReallocationModal","setShowReallocationModal","selectedOpportunity","setSelectedOpportunity","highContrastMode","setHighContrastMode","localStorage","getItem","sortColumn","setSortColumn","sortDirection","setSortDirection","announcements","setAnnouncements","tableRef","announcerRef","focusedCellRef","row","col","announce","message","setTimeout","toggleHighContrastMode","newMode","setItem","toString","toggle","processedData","data","opp","_opp$notes","String","notes","aVal","bVal","matchStatus","altKey","pendingChanges","o","selectedId","find","handleOpenReallocationModal","navigateTable","direction","newRow","newCol","handleRowSelection","selected","newSelection","priorityCellRenderer","rowIndex","priorityColors","low","medium","high","Cell","matchStatusCellRenderer","matchStatusLabels","baseline","suboptimal","unmatched","matchStatusIntent","matchNotesCellRenderer","matchNotes","TICK","sccCellRenderer","functionCellRenderer","function","orbitCellRenderer","periodicityCellRenderer","unit","collectionTypeCellRenderer","typeLabels","optical","wideband","narrowband","collectionType","classificationCellRenderer","classification","classificationLevel","siteAllocationCellRenderer","sites","siteAllocationCodes","join","code","notesCellRenderer","hasNotes","nameCellRenderer","checkboxCellRenderer","Checkbox","handleSort","column","newDirection","createSortableHeader","CHEVRON_UP","CHEVRON_DOWN","Navbar","NavbarGroup","NavbarHeading","H2","NavbarDivider","align","_Fragment","CLOUD_UPLOAD","CONTRAST","active","Table2","numRows","enableRowHeader","enableColumnHeader","enableRowReordering","enableColumnReordering","enableRowResizing","enableColumnResizing","enableFocusedCell","selectionModes","SelectionModes","ROWS_ONLY","renderMode","RenderMode","BATCH","cellRendererDependencies","Column","cellRenderer","columnHeaderCellRenderer","indeterminate","ReallocationWorkspaceAccessible","displayName"],"sourceRoot":""}