{"version":3,"file":"static/js/83905.a979b0e7.chunk.js","mappings":"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","sources":["components/ReallocationWorkspace.tsx"],"sourcesContent":["import React, { useState, useEffect, useReducer, useMemo, useCallback } from 'react';\nimport {\n  Button,\n  Card,\n  Classes,\n  Dialog,\n  Divider,\n  FormGroup,\n  Icon as BpIcon,\n  Intent,\n  NonIdealState,\n  ProgressBar,\n  Slider,\n  Spinner,\n  Tab,\n  Tabs,\n  Tag,\n  Tooltip,\n  ButtonGroup,\n  Callout,\n  Switch,\n  NumericInput,\n  HTMLSelect,\n  ResizeSensor,\n  Position,\n  Popover,\n  Menu,\n  MenuItem\n} from '@blueprintjs/core';\nimport { IconNames } from '@blueprintjs/icons';\n\n// Type-safe Icon wrapper to handle Blueprint.js v6 types\nconst Icon: React.FC<React.ComponentProps<typeof BpIcon>> = (props) => {\n  const iconElement = React.createElement(BpIcon, props);\n  return <>{iconElement}</>;\n};\nimport { CollectionOpportunity, Site, Priority, Pass, getPassDuration, parseQualityString } from '../types/collectionOpportunities';\nimport { OpportunityHealth, calculateOpportunityHealth } from '../utils/opportunityHealth';\nimport OpportunityStatusIndicatorEnhanced from './OpportunityStatusIndicatorEnhanced';\nimport './ReallocationWorkspace.css';\n\nexport interface Allocation {\n  passId: string;\n  siteId: string;\n  priority: Priority;\n  timeSlot: {\n    start: Date;\n    end: Date;\n  };\n  resources: string[];\n}\n\nexport interface AllocationChange {\n  type: 'add' | 'remove' | 'modify';\n  allocation: Allocation;\n  reason: string;\n}\n\nexport enum WorkspaceMode {\n  SIMPLE = 'simple',\n  ADVANCED = 'advanced',\n  EXPERT = 'expert'\n}\n\ninterface WorkspaceState {\n  satelliteId: string;\n  mode: WorkspaceMode;\n  availablePasses: Pass[];\n  currentAllocations: Allocation[];\n  proposedChanges: AllocationChange[];\n  selectedPass?: Pass;\n  selectedSite?: Site;\n  validationErrors: string[];\n  isDirty: boolean;\n  isSaving: boolean;\n  showTimeline: boolean;\n  showConflicts: boolean;\n  approvalStatus: Map<string, 'approved' | 'rejected' | 'pending'>;\n}\n\ninterface ReallocationWorkspaceProps {\n  opportunity: CollectionOpportunity;\n  availableSites: Site[];\n  passes: Pass[];\n  onSave: (changes: AllocationChange[]) => Promise<void>;\n  onClose: () => void;\n}\n\n// Reducer for workspace state\ntype WorkspaceAction =\n  | { type: 'SET_MODE'; payload: WorkspaceMode }\n  | { type: 'SET_PASSES'; payload: Pass[] }\n  | { type: 'SELECT_PASS'; payload: Pass | undefined }\n  | { type: 'SELECT_SITE'; payload: Site | undefined }\n  | { type: 'ADD_ALLOCATION'; payload: Allocation }\n  | { type: 'REMOVE_ALLOCATION'; payload: string }\n  | { type: 'MODIFY_ALLOCATION'; payload: { id: string; changes: Partial<Allocation> } }\n  | { type: 'SET_VALIDATION_ERRORS'; payload: string[] }\n  | { type: 'TOGGLE_TIMELINE' }\n  | { type: 'TOGGLE_CONFLICTS' }\n  | { type: 'START_SAVE' }\n  | { type: 'SAVE_SUCCESS' }\n  | { type: 'SAVE_ERROR' }\n  | { type: 'RESET_CHANGES' };\n\nconst workspaceReducer = (state: WorkspaceState, action: WorkspaceAction): WorkspaceState => {\n  switch (action.type) {\n    case 'SET_MODE':\n      return { ...state, mode: action.payload };\n    \n    case 'SET_PASSES':\n      return { ...state, availablePasses: action.payload };\n    \n    case 'SELECT_PASS':\n      return { ...state, selectedPass: action.payload };\n    \n    case 'SELECT_SITE':\n      return { ...state, selectedSite: action.payload };\n    \n    case 'ADD_ALLOCATION': {\n      const change: AllocationChange = {\n        type: 'add',\n        allocation: action.payload,\n        reason: 'Manual allocation'\n      };\n      return {\n        ...state,\n        proposedChanges: [...state.proposedChanges, change],\n        isDirty: true\n      };\n    }\n    \n    case 'REMOVE_ALLOCATION': {\n      const allocation = state.currentAllocations.find(a => a.passId === action.payload);\n      if (allocation) {\n        const change: AllocationChange = {\n          type: 'remove',\n          allocation,\n          reason: 'Manual removal'\n        };\n        return {\n          ...state,\n          proposedChanges: [...state.proposedChanges, change],\n          isDirty: true\n        };\n      }\n      return state;\n    }\n    \n    case 'MODIFY_ALLOCATION': {\n      const existing = state.currentAllocations.find(a => a.passId === action.payload.id);\n      if (existing) {\n        const modified = { ...existing, ...action.payload.changes };\n        const change: AllocationChange = {\n          type: 'modify',\n          allocation: modified,\n          reason: 'Manual modification'\n        };\n        return {\n          ...state,\n          proposedChanges: [...state.proposedChanges, change],\n          isDirty: true\n        };\n      }\n      return state;\n    }\n    \n    case 'SET_VALIDATION_ERRORS':\n      return { ...state, validationErrors: action.payload };\n    \n    case 'TOGGLE_TIMELINE':\n      return { ...state, showTimeline: !state.showTimeline };\n    \n    case 'TOGGLE_CONFLICTS':\n      return { ...state, showConflicts: !state.showConflicts };\n    \n    case 'START_SAVE':\n      return { ...state, isSaving: true };\n    \n    case 'SAVE_SUCCESS':\n      return { \n        ...state, \n        isSaving: false, \n        isDirty: false,\n        proposedChanges: []\n      };\n    \n    case 'SAVE_ERROR':\n      return { ...state, isSaving: false };\n    \n    case 'RESET_CHANGES':\n      return {\n        ...state,\n        proposedChanges: [],\n        isDirty: false,\n        validationErrors: []\n      };\n    \n    default:\n      return state;\n  }\n};\n\nconst ReallocationWorkspace: React.FC<ReallocationWorkspaceProps> = ({\n  opportunity,\n  availableSites,\n  onSave,\n  onClose\n}) => {\n  const initialState: WorkspaceState = {\n    satelliteId: opportunity.satellite.id,\n    mode: WorkspaceMode.SIMPLE,\n    availablePasses: [],\n    currentAllocations: [],\n    proposedChanges: [],\n    validationErrors: [],\n    isDirty: false,\n    isSaving: false,\n    showTimeline: false,\n    showConflicts: false,\n    approvalStatus: new Map()\n  };\n\n  const [state, dispatch] = useReducer(workspaceReducer, initialState);\n  const [filterQuality, setFilterQuality] = useState<string>('all');\n  const [filterTimeWindow, setFilterTimeWindow] = useState<number>(24); // hours\n  const [showOnlyAvailable, setShowOnlyAvailable] = useState(true);\n\n  // Load available passes\n  useEffect(() => {\n    loadAvailablePasses();\n  }, [opportunity.satellite.id]);\n\n  const loadAvailablePasses = async () => {\n    // Simulate loading passes\n    const mockPasses: Pass[] = generateMockPasses(20);\n    dispatch({ type: 'SET_PASSES', payload: mockPasses });\n  };\n\n  // Generate mock passes for demonstration\n  const generateMockPasses = (count: number): Pass[] => {\n    const qualities = [5, 4, 3, 2]; // 5=excellent, 4=good, 3=fair, 2=poor\n    const now = new Date();\n    \n    return Array.from({ length: count }, (_, i) => {\n      const startTime = new Date(now.getTime() + i * 90 * 60 * 1000); // 90 min intervals\n      const duration = 5 + Math.floor(Math.random() * 10); // 5-15 minutes\n      \n      return {\n        id: `pass-${i}`,\n        name: `Pass ${i + 1}`,\n        startTime,\n        endTime: new Date(startTime.getTime() + duration * 60 * 1000),\n        duration,\n        elevation: 30 + Math.random() * 60, // 30-90 degrees\n        azimuth: Math.random() * 360,\n        quality: qualities[Math.floor(Math.random() * qualities.length)],\n        conflictsWith: Math.random() > 0.7 ? [`pass-${Math.max(0, i - 1)}`] : undefined,\n        requiredResources: ['Antenna', 'Recorder', 'Processor'],\n        siteCapabilities: [],\n        priority: 'normal' as const,\n        classificationLevel: 'UNCLASSIFIED' as const\n      };\n    });\n  };\n\n  // Filter passes based on criteria\n  const filteredPasses = useMemo(() => {\n    let passes = [...state.availablePasses];\n\n    // Quality filter\n    if (filterQuality !== 'all') {\n      passes = passes.filter(p => p.quality === parseInt(filterQuality));\n    }\n\n    // Time window filter\n    const cutoff = new Date(Date.now() + filterTimeWindow * 60 * 60 * 1000);\n    passes = passes.filter(p => p.startTime <= cutoff);\n\n    // Available filter\n    if (showOnlyAvailable) {\n      passes = passes.filter(p => {\n        // Check if pass is already allocated\n        const isAllocated = state.currentAllocations.some(a => a.passId === p.id);\n        const isPendingRemoval = state.proposedChanges.some(c => \n          c.type === 'remove' && c.allocation.passId === p.id\n        );\n        return !isAllocated || isPendingRemoval;\n      });\n    }\n\n    return passes;\n  }, [state.availablePasses, state.currentAllocations, state.proposedChanges, \n      filterQuality, filterTimeWindow, showOnlyAvailable]);\n\n  // Calculate health impact of proposed changes\n  const projectedHealth = useMemo(() => {\n    // Apply proposed changes to current state\n    let projectedAllocations = [...state.currentAllocations];\n    \n    state.proposedChanges.forEach(change => {\n      switch (change.type) {\n        case 'add':\n          projectedAllocations.push(change.allocation);\n          break;\n        case 'remove':\n          projectedAllocations = projectedAllocations.filter(\n            a => a.passId !== change.allocation.passId\n          );\n          break;\n        case 'modify':\n          projectedAllocations = projectedAllocations.map(a =>\n            a.passId === change.allocation.passId ? change.allocation : a\n          );\n          break;\n      }\n    });\n\n    // Calculate new capacity based on allocations\n    const newCapacity = Math.min(100, projectedAllocations.length * 15);\n    \n    const projectedOpportunity: CollectionOpportunity = {\n      ...opportunity,\n      capacityPercentage: newCapacity\n    };\n\n    return calculateOpportunityHealth(projectedOpportunity);\n  }, [opportunity, state.currentAllocations, state.proposedChanges]);\n\n  // Handle pass allocation\n  const handleAllocatePass = () => {\n    if (!state.selectedPass || !state.selectedSite) {\n      dispatch({ \n        type: 'SET_VALIDATION_ERRORS', \n        payload: ['Please select both a pass and a site'] \n      });\n      return;\n    }\n\n    const allocation: Allocation = {\n      passId: state.selectedPass.id,\n      siteId: state.selectedSite.id,\n      priority: opportunity.priority,\n      timeSlot: {\n        start: state.selectedPass.startTime,\n        end: state.selectedPass.endTime\n      },\n      resources: state.selectedPass.requiredResources || []\n    };\n\n    dispatch({ type: 'ADD_ALLOCATION', payload: allocation });\n    dispatch({ type: 'SELECT_PASS', payload: undefined });\n    dispatch({ type: 'SET_VALIDATION_ERRORS', payload: [] });\n  };\n\n  // Handle save\n  const handleSave = async () => {\n    dispatch({ type: 'START_SAVE' });\n    try {\n      await onSave(state.proposedChanges);\n      dispatch({ type: 'SAVE_SUCCESS' });\n      onClose();\n    } catch (error) {\n      dispatch({ type: 'SAVE_ERROR' });\n      dispatch({ \n        type: 'SET_VALIDATION_ERRORS', \n        payload: ['Failed to save changes. Please try again.'] \n      });\n    }\n  };\n\n  // Auto-optimize allocations\n  const handleAutoOptimize = () => {\n    // Simple optimization algorithm\n    const optimizedPasses = state.availablePasses\n      .filter(p => p.quality >= 4) // 4=good, 5=excellent\n      .filter(p => !p.conflictsWith || p.conflictsWith.length === 0)\n      .slice(0, 5);\n\n    const newAllocations: Allocation[] = optimizedPasses.map((pass, index) => ({\n      passId: pass.id,\n      siteId: availableSites[index % availableSites.length].id,\n      priority: opportunity.priority,\n      timeSlot: {\n        start: pass.startTime,\n        end: pass.endTime\n      },\n      resources: pass.requiredResources || []\n    }));\n\n    // Create change records\n    const changes: AllocationChange[] = newAllocations.map(allocation => ({\n      type: 'add' as const,\n      allocation,\n      reason: 'Auto-optimization'\n    }));\n\n    dispatch({ type: 'RESET_CHANGES' });\n    changes.forEach(change => {\n      dispatch({ type: 'ADD_ALLOCATION', payload: change.allocation });\n    });\n  };\n\n  return (\n    <Dialog\n      isOpen={true}\n      onClose={onClose}\n      title={\n        <div className=\"workspace-header\">\n          <Icon icon={IconNames.FLOWS} />\n          <span>Reallocation Workspace: {opportunity.name}</span>\n          <div className=\"workspace-mode-selector\">\n            <ButtonGroup>\n              {Object.values(WorkspaceMode).map(mode => (\n                <Button\n                  key={mode}\n                  small\n                  active={state.mode === mode}\n                  onClick={() => dispatch({ type: 'SET_MODE', payload: mode })}\n                >\n                  {mode.charAt(0).toUpperCase() + mode.slice(1)}\n                </Button>\n              ))}\n            </ButtonGroup>\n          </div>\n        </div>\n      }\n      className=\"reallocation-workspace\"\n      canEscapeKeyClose={!state.isDirty}\n      canOutsideClickClose={!state.isDirty}\n      style={{ width: '90vw', maxWidth: '1400px' }}\n    >\n      <div className={Classes.DIALOG_BODY}>\n        <div className=\"workspace-layout\">\n          {/* Left Panel - Available Passes */}\n          <div className=\"workspace-panel passes-panel\">\n            <div className=\"panel-header\">\n              <h3>Available Passes</h3>\n              <div className=\"panel-controls\">\n                <FormGroup label=\"Quality\" inline>\n                  <HTMLSelect\n                    value={filterQuality}\n                    onChange={e => setFilterQuality(e.target.value)}\n                    options={[\n                      { value: 'all', label: 'All' },\n                      { value: 'excellent', label: 'Excellent' },\n                      { value: 'good', label: 'Good' },\n                      { value: 'fair', label: 'Fair' },\n                      { value: 'poor', label: 'Poor' }\n                    ]}\n                  />\n                </FormGroup>\n                <FormGroup label=\"Time Window\" inline>\n                  <NumericInput\n                    value={filterTimeWindow}\n                    onValueChange={setFilterTimeWindow}\n                    min={1}\n                    max={168}\n                    rightElement={<Tag minimal>hrs</Tag>}\n                  />\n                </FormGroup>\n                <Switch\n                  checked={showOnlyAvailable}\n                  onChange={e => setShowOnlyAvailable(e.currentTarget.checked)}\n                  label=\"Available only\"\n                />\n              </div>\n            </div>\n\n            <div className=\"passes-list\">\n              {filteredPasses.length === 0 ? (\n                <NonIdealState\n                  icon={IconNames.SATELLITE}\n                  title=\"No passes available\"\n                  description=\"Try adjusting your filters\"\n                />\n              ) : (\n                filteredPasses.map(pass => (\n                  <Card\n                    key={pass.id}\n                    className={`pass-card ${state.selectedPass?.id === pass.id ? 'selected' : ''}`}\n                    interactive\n                    onClick={() => dispatch({ type: 'SELECT_PASS', payload: pass })}\n                  >\n                    <div className=\"pass-header\">\n                      <strong>{pass.name}</strong>\n                      <Tag \n                        intent={\n                          pass.quality === 5 ? Intent.SUCCESS :    // excellent\n                          pass.quality === 4 ? Intent.PRIMARY :    // good\n                          pass.quality === 3 ? Intent.WARNING :    // fair\n                          Intent.NONE                               // poor (1-2)\n                        }\n                      >\n                        {pass.quality === 5 ? 'Excellent' : \n                         pass.quality === 4 ? 'Good' :\n                         pass.quality === 3 ? 'Fair' :\n                         pass.quality === 2 ? 'Poor' : 'Unknown'}\n                      </Tag>\n                    </div>\n                    <div className=\"pass-details\">\n                      <div className=\"pass-time\">\n                        <Icon icon={IconNames.TIME} size={12} />\n                        <span>\n                          {pass.startTime.toLocaleTimeString()} - {pass.endTime.toLocaleTimeString()}\n                        </span>\n                        <Tag minimal>{pass.duration} min</Tag>\n                      </div>\n                      <div className=\"pass-metrics\">\n                        <Tooltip content={`Elevation: ${pass.elevation?.toFixed(1) || 'N/A'}째`}>\n                          <Tag minimal>\n                            <Icon icon={IconNames.TRENDING_UP} size={10} />\n                            {pass.elevation?.toFixed(0) || 'N/A'}째\n                          </Tag>\n                        </Tooltip>\n                        <Tooltip content={`Azimuth: ${pass.azimuth?.toFixed(1) || 'N/A'}째`}>\n                          <Tag minimal>\n                            <Icon icon={IconNames.COMPASS} size={10} />\n                            {pass.azimuth?.toFixed(0) || 'N/A'}째\n                          </Tag>\n                        </Tooltip>\n                      </div>\n                      {pass.conflictsWith && pass.conflictsWith.length > 0 && (\n                        <div className=\"pass-conflicts\">\n                          <Icon icon={IconNames.WARNING_SIGN} intent={Intent.WARNING} size={12} />\n                          <span>Conflicts with {pass.conflictsWith.length} passes</span>\n                        </div>\n                      )}\n                    </div>\n                  </Card>\n                ))\n              )}\n            </div>\n\n            {state.mode !== WorkspaceMode.SIMPLE && (\n              <div className=\"panel-footer\">\n                <Button\n                  icon={IconNames.LIGHTBULB}\n                  intent={Intent.PRIMARY}\n                  onClick={handleAutoOptimize}\n                  fill\n                >\n                  Auto-Optimize Selection\n                </Button>\n              </div>\n            )}\n          </div>\n\n          {/* Center Panel - Allocation Controls */}\n          <div className=\"workspace-panel allocation-panel\">\n            <div className=\"panel-header\">\n              <h3>Allocation Configuration</h3>\n            </div>\n\n            <div className=\"allocation-content\">\n              {/* Health Impact Preview */}\n              <Card className=\"health-preview\">\n                <h4>Projected Health Impact</h4>\n                <OpportunityStatusIndicatorEnhanced\n                  health={projectedHealth}\n                  showDetails={true}\n                />\n                <div className=\"health-comparison\">\n                  <div className=\"health-metric\">\n                    <span>Current Score:</span>\n                    <strong>{calculateOpportunityHealth(opportunity).score}</strong>\n                  </div>\n                  <Icon icon={IconNames.ARROW_RIGHT} />\n                  <div className=\"health-metric\">\n                    <span>Projected Score:</span>\n                    <strong className={\n                      projectedHealth.score > calculateOpportunityHealth(opportunity).score \n                        ? 'improvement' \n                        : 'decline'\n                    }>\n                      {projectedHealth.score}\n                    </strong>\n                  </div>\n                </div>\n              </Card>\n\n              {/* Site Selection */}\n              {state.selectedPass && (\n                <Card className=\"site-selection\">\n                  <h4>Select Site for {state.selectedPass.name}</h4>\n                  <div className=\"sites-grid\">\n                    {availableSites.map(site => {\n                      const isSelected = state.selectedSite?.id === site.id;\n                      const availableCapacity = ((site.capacity - site.allocated) / site.capacity) * 100;\n                      \n                      return (\n                        <Card\n                          key={site.id}\n                          className={`site-option ${isSelected ? 'selected' : ''}`}\n                          interactive\n                          onClick={() => dispatch({ type: 'SELECT_SITE', payload: site })}\n                        >\n                          <div className=\"site-name\">{site.name}</div>\n                          <ProgressBar\n                            value={1 - availableCapacity / 100}\n                            intent={availableCapacity < 20 ? Intent.DANGER : Intent.NONE}\n                          />\n                          <div className=\"site-capacity\">{availableCapacity.toFixed(0)}% available</div>\n                        </Card>\n                      );\n                    })}\n                  </div>\n\n                  <div className=\"allocation-actions\">\n                    <Button\n                      intent={Intent.PRIMARY}\n                      icon={IconNames.ADD}\n                      onClick={handleAllocatePass}\n                      disabled={!state.selectedSite}\n                      fill\n                    >\n                      Allocate Pass to Site\n                    </Button>\n                  </div>\n                </Card>\n              )}\n\n              {/* Advanced Options */}\n              {state.mode === WorkspaceMode.ADVANCED || state.mode === WorkspaceMode.EXPERT && (\n                <Card className=\"advanced-options\">\n                  <h4>Advanced Configuration</h4>\n                  <FormGroup label=\"Priority Override\">\n                    <HTMLSelect\n                      options={['low', 'medium', 'high', 'critical']}\n                      value={opportunity.priority}\n                    />\n                  </FormGroup>\n                  <FormGroup label=\"Resource Allocation\">\n                    <Switch label=\"Automatic resource management\" defaultChecked />\n                    <Switch label=\"Allow partial allocations\" />\n                    <Switch label=\"Enable conflict resolution\" />\n                  </FormGroup>\n                </Card>\n              )}\n\n              {/* Validation Errors */}\n              {state.validationErrors.length > 0 && (\n                <Callout intent={Intent.DANGER} icon={IconNames.ERROR}>\n                  {state.validationErrors.map((error, i) => (\n                    <div key={i}>{error}</div>\n                  ))}\n                </Callout>\n              )}\n            </div>\n          </div>\n\n          {/* Right Panel - Current Allocations */}\n          <div className=\"workspace-panel allocations-panel\">\n            <div className=\"panel-header\">\n              <h3>Current Allocations</h3>\n              <ButtonGroup>\n                <Tooltip content=\"Timeline View\">\n                  <Button\n                    icon={IconNames.TIMELINE_EVENTS}\n                    active={state.showTimeline}\n                    onClick={() => dispatch({ type: 'TOGGLE_TIMELINE' })}\n                  />\n                </Tooltip>\n                <Tooltip content=\"Show Conflicts\">\n                  <Button\n                    icon={IconNames.WARNING_SIGN}\n                    active={state.showConflicts}\n                    onClick={() => dispatch({ type: 'TOGGLE_CONFLICTS' })}\n                  />\n                </Tooltip>\n              </ButtonGroup>\n            </div>\n\n            <div className=\"allocations-list\">\n              {state.proposedChanges.length === 0 && state.currentAllocations.length === 0 ? (\n                <NonIdealState\n                  icon={IconNames.INBOX}\n                  title=\"No allocations\"\n                  description=\"Select passes and sites to create allocations\"\n                />\n              ) : (\n                <>\n                  {/* Proposed Changes */}\n                  {state.proposedChanges.map((change, index) => (\n                    <Card \n                      key={index} \n                      className={`allocation-change ${change.type}`}\n                    >\n                      <div className=\"change-header\">\n                        <Icon \n                          icon={\n                            change.type === 'add' ? IconNames.ADD :\n                            change.type === 'remove' ? IconNames.REMOVE :\n                            IconNames.EDIT\n                          }\n                          intent={\n                            change.type === 'add' ? Intent.SUCCESS :\n                            change.type === 'remove' ? Intent.DANGER :\n                            Intent.PRIMARY\n                          }\n                        />\n                        <span className=\"change-type\">\n                          {change.type === 'add' ? 'New Allocation' :\n                           change.type === 'remove' ? 'Remove Allocation' :\n                           'Modify Allocation'}\n                        </span>\n                      </div>\n                      <div className=\"change-details\">\n                        <div>Pass: {state.availablePasses.find(p => p.id === change.allocation.passId)?.name}</div>\n                        <div>Site: {availableSites.find(s => s.id === change.allocation.siteId)?.name}</div>\n                        <div>Reason: {change.reason}</div>\n                      </div>\n                    </Card>\n                  ))}\n\n                  {/* Current Allocations */}\n                  {state.currentAllocations.map(allocation => (\n                    <Card key={allocation.passId} className=\"current-allocation\">\n                      <div className=\"allocation-header\">\n                        <span>{state.availablePasses.find(p => p.id === allocation.passId)?.name}</span>\n                        <Button\n                          minimal\n                          small\n                          icon={IconNames.CROSS}\n                          intent={Intent.DANGER}\n                          onClick={() => dispatch({ \n                            type: 'REMOVE_ALLOCATION', \n                            payload: allocation.passId \n                          })}\n                        />\n                      </div>\n                      <div className=\"allocation-details\">\n                        <div>Site: {availableSites.find(s => s.id === allocation.siteId)?.name}</div>\n                        <div>Priority: {allocation.priority}</div>\n                      </div>\n                    </Card>\n                  ))}\n                </>\n              )}\n            </div>\n\n            <div className=\"panel-footer\">\n              <div className=\"changes-summary\">\n                <Tag large intent={Intent.PRIMARY}>\n                  {state.proposedChanges.length} pending changes\n                </Tag>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className={Classes.DIALOG_FOOTER}>\n        <div className={Classes.DIALOG_FOOTER_ACTIONS}>\n          <Button onClick={onClose} disabled={state.isSaving}>\n            Cancel\n          </Button>\n          {state.isDirty && (\n            <Button\n              onClick={() => dispatch({ type: 'RESET_CHANGES' })}\n              disabled={state.isSaving}\n            >\n              Reset Changes\n            </Button>\n          )}\n          <Button\n            intent={Intent.PRIMARY}\n            onClick={handleSave}\n            disabled={!state.isDirty || state.isSaving}\n            loading={state.isSaving}\n          >\n            Apply Changes ({state.proposedChanges.length})\n          </Button>\n        </div>\n      </div>\n    </Dialog>\n  );\n};\n\nexport default ReallocationWorkspace;"],"names":["Icon","props","iconElement","React","BpIcon","_jsx","_Fragment","children","WorkspaceMode","workspaceReducer","state","action","type","_objectSpread","mode","payload","availablePasses","selectedPass","selectedSite","change","allocation","reason","proposedChanges","isDirty","currentAllocations","find","a","passId","existing","id","changes","validationErrors","showTimeline","showConflicts","isSaving","_ref","opportunity","availableSites","onSave","onClose","initialState","satelliteId","satellite","SIMPLE","approvalStatus","Map","dispatch","useReducer","filterQuality","setFilterQuality","useState","filterTimeWindow","setFilterTimeWindow","showOnlyAvailable","setShowOnlyAvailable","useEffect","loadAvailablePasses","async","mockPasses","generateMockPasses","count","qualities","now","Date","Array","from","length","_","i","startTime","getTime","duration","Math","floor","random","concat","name","endTime","elevation","azimuth","quality","conflictsWith","max","undefined","requiredResources","siteCapabilities","priority","classificationLevel","filteredPasses","useMemo","passes","filter","p","parseInt","cutoff","isAllocated","some","isPendingRemoval","c","projectedHealth","projectedAllocations","forEach","push","map","newCapacity","min","projectedOpportunity","capacityPercentage","calculateOpportunityHealth","_jsxs","Dialog","isOpen","title","className","icon","IconNames","FLOWS","ButtonGroup","Object","values","Button","small","active","onClick","charAt","toUpperCase","slice","canEscapeKeyClose","canOutsideClickClose","style","width","maxWidth","Classes","FormGroup","label","inline","HTMLSelect","value","onChange","e","target","options","NumericInput","onValueChange","rightElement","Tag","minimal","Switch","checked","currentTarget","NonIdealState","SATELLITE","description","pass","_state$selectedPass","_pass$elevation","_pass$elevation2","_pass$azimuth","_pass$azimuth2","Card","interactive","intent","Intent","SUCCESS","PRIMARY","WARNING","NONE","TIME","size","toLocaleTimeString","Tooltip","content","toFixed","TRENDING_UP","COMPASS","WARNING_SIGN","LIGHTBULB","handleAutoOptimize","index","siteId","timeSlot","start","end","resources","fill","OpportunityStatusIndicatorEnhanced","health","showDetails","score","ARROW_RIGHT","site","_state$selectedSite","isSelected","availableCapacity","capacity","allocated","ProgressBar","DANGER","ADD","handleAllocatePass","disabled","ADVANCED","EXPERT","defaultChecked","Callout","ERROR","error","TIMELINE_EVENTS","INBOX","_state$availablePasse","_availableSites$find","REMOVE","EDIT","s","_state$availablePasse2","_availableSites$find2","CROSS","large","loading"],"sourceRoot":""}